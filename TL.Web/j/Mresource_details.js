function numFour(e) { return e = parseInt(e), e < 10 ? "000" + e : e < 100 ? "00" + e : e < 1e3 ? "0" + e : "0000" } function bind_emotion() { var e = ""; for (var t = 1; t <= 55; t++) e += '<li><img index="' + t + '" url="jx2/j_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/jx2/j_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(0)").html(e), e = ""; for (var t = 1; t <= 55; t++) e += '<li><img index="' + t + '" url="bobo/b_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/bobo/b_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(1)").html(e), e = ""; for (var t = 1; t <= 20; t++) e += '<li><img index="' + t + '" url="babycat/c_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/babycat/C_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(2)").html(e), e = ""; for (var t = 1; t <= 52; t++) e += '<li><img index="' + t + '" url="ldw/w_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/ldw/w_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(3)").html(e), e = ""; for (var t = 1; t <= 40; t++) e += '<li><img index="' + t + '" url="tsj/t_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/tsj/t_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(4)").html(e), e = ""; for (var t = 1; t <= 40; t++) e += '<li><img index="' + t + '" url="youa/y_' + numFour(t) + '" src="/j/editor/dialogs/emotion/images/youa/y_' + numFour(t) + '.gif"></li>'; $(".reply-emotion-content > ul > li > ul:eq(5)").html(e) } var id = 0; $(function () { id = parastr("id"), $("#tid").val(id), $(".top_count > b").html("(" + $("#info_reply .list li").length + ")"), $("#info_reply .list li").length == 0 && $("#info_reply .top_reply_bg,#info_reply > .content").hide(), $("#reply_form").form({ onSubmit: function () { if (!$("#replyContent").val()) return alert("请填写评论内容！"), !1 }, success: function (e) { e == "1" ? ($("#replyContent").val(""), alert("评论成功!"), window.location.href = window.location.href) : alert("评论失败!") } }), $("#reply_form .btn_submit").click(function () { $("#reply_form").submit() }), bind_emotion(), $(".addFace").afterbind("click", function (e) { $(".reply-emotion").css({ left: getMousePos(e).x + "px", top: getMousePos(e).y + 25 + "px" }).fadeIn(400) }), $(".reply-emotion ul img").afterbind("click", function (e) { var t = $("#replyContent"); t.val(t.val() + "[" + $(this).attr("url") + "]"), $(".reply-emotion").hide() }), $(".reply-emotion-close").afterbind("click", function (e) { $(".reply-emotion").fadeOut(400) }), $.tl_slider = function (e) { function a(e) { $(r).stop(!0, !1).animate({ left: -860 * e }, 500); var t = $(r + " > li > div").eq(e), n = t.parent().siblings().children(); n.css("border", "2px solid white"); var s = $(i + " li").eq(e); s.css("border-bottom", "3px solid green"), t.css("border", "2px solid #c8fcd6"), s.siblings().css("border-bottom", "3px solid #C8FCD6") } var t = { slider: ".reply-emotion-content > ul", slider_num: ".reply-emotion-header > ul" }, n = $.extend(t, e), r = n.slider, i = n.slider_num, s = $(i + " > li").length, o = 0, u; $(r + " > li").afterbind("click", function (e) { var t = $(r + " > li").index(this); $(i + " > li").eq(t).mousemove() }), $(i + " > li").afterbind("click", function (e) { o = $(i + " > li").index(this), a(o) }).eq(0).click() }, $.tl_slider() }), $(function () { index = 1, $(".nav_" + index).bgPosition(nav_bg[index].x, nav_bg[index].y).stop().a({ left: 0 }, 150); var e = { min: 200, inDelay: 600, outDelay: 400, containerID: "toTops", scrollSpeed: 200, easingType: "linear" }, t = e.containerID; $("#toTops").hide().click(function () { $("html, body").animate({ scrollTop: 0 }, 200) }), $(window).scroll(function () { var n = $(window).scrollTop(); typeof document.body.style.maxHeight == "undefined" && $(t).css({ position: "absolute", top: $(window).scrollTop() + $(window).height() - 50 }), n > e.min ? $("#" + t).fadeIn(e.inDelay) : $("#" + t).fadeOut(e.Outdelay) }), $("#toTops .item3 a").hover(function () { $(this).a({ left: -80 }, 150) }, function () { $(this).a({ left: 0 }, 150) }) })